<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-scale-multiple">
  <p style="font-size: 20px; color: white">En cours...</p>
</ngx-spinner> 

<div class="header bg-gradient-danger pb-8 pt-5 pt-md-8">
  <div class="container-fluid">
    <div class="header-body">

    </div>
  </div>
</div>
    <!-- Page content -->
    <div class="container-fluid mt--7">
      <!-- Table -->
      <div class="row">
        <div class="col">
          <div class="card shadow">
            <div class="card-header border-0">
              <h3 class="mb-0">Add Reclamation</h3>
            </div>
            <div class="table-responsive">
              
 <form  [formGroup]="reclamationForm" (ngSubmit)="onUpload()" novalidate enctype="multipart/form-data">
  <div class="col-sm-10" >
    <label for="exampleFormControlTextarea1">Title</label>
    <input type="text" class="form-control" id="inputtitle" placeholder="write the title of your reclamation"  formControlName="title" [(ngModel)]="reclamation.title" >
    <div *ngIf="  reclamationForm.get('title').hasError('required') && reclamationForm.get('title').touched" style="color: red;"><a style="font-weight: bold;">&#x2022;</a> Title is required</div>
    <div *ngIf="  reclamationForm.get('title').hasError('maxlength') && reclamationForm.get('title').touched" style="color: red;"><a style="font-weight: bold;">&#x2022;</a>   Title must not exceed 50 characters</div>
    </div>
  
  <div class="col-sm-10">
    <label for="exampleFormControlTextarea1">Description</label>
    <textarea class="form-control" placeholder="write the description of your reclamation" rows="3" [(ngModel)]="reclamation.description" formControlName="description" ></textarea>
    <div *ngIf="  reclamationForm.get('description').hasError('required') && reclamationForm.get('description').touched" style="color: red;"><a style="font-weight: bold;">&#x2022;</a> Description is required</div>
    <div *ngIf="  reclamationForm.get('description').hasError('maxlength') && reclamationForm.get('description').touched" style="color: red;"><a style="font-weight: bold;">&#x2022;</a>   Description must not exceed 4000 characters</div>
  </div>
  <div class="col-sm-10">
    <label for="exampleFormControlTextarea1">Type of reclamation</label>
  <select class="form-control" placeholder="Choose the type of your reclamation"  [(ngModel)]="reclamation.type" formControlName="type" >
    <option value="" disabled selected>Select your Type of reclamation</option>
    <option value="USER">User</option>
    <option value="TRIP">Trip</option>
    <option value="SOFTWARE">Software</option>
    <option value="OTHER">Other</option>
  </select>
  <div *ngIf="  reclamationForm.get('type').hasError('required') && reclamationForm.get('type').touched" style="color: red;"><a style="font-weight: bold;">&#x2022;</a> Type of reclamation is required</div>
</div>
<div class="col-sm-10">
  <label for="exampleFormControlTextarea1">priority</label>
  <select class="form-control" placeholder="Choose the priority of your reclamation" [(ngModel)]="reclamation.priority" formControlName="priority" >
  <option value="" disabled selected>Select your priority of reclamation</option>
    <option value="NORMAL">Normal</option>
    <option value="IMPORTANT">Important</option>
    <option value="URGENTE">Urgente</option>
  </select>
  <div *ngIf="  reclamationForm.get('priority').hasError('required')&& reclamationForm.get('priority').touched" style="color: red;"><a style="font-weight: bold;">&#x2022;</a> Priority of reclamation is required</div>
</div>
<div class="col-sm-10">
<label for="exampleFormControlTextarea1">Phooto</label>
  <div class="col-sm-10">
    
      <input type="file" class="custom-file-input" id="imagen" #imagenInputFile
      (change)="onFileChange($event)" accept="image/png, image/jpeg, image/gif">
      <label class="custom-file-label" for="imagen">choose an image</label>
  </div>
  <div class="form-group d-flex justify-content-between my-3">
      
    <button class="btn btn-outline-danger float-left" [disabled]="!imagen" (click)="reset()"><i class="fas fa-sync-alt"></i> Reset photo</button>
</div>

  <div *ngIf="imagen" class="mt-5">
      <h5>Preview:</h5>
      <div>
      </div>
          <img class="image-thumbnail" style="max-width: 100px" [src]="imagenMin">
      </div>
  </div>
 



<div class="col-12">
  <button type="submit" class="btn btn-outline-success float-left"  [disabled]="!imagen"><i class="fas fa-upload"></i> Submit </button>
  <button type="button" (click)="onReset()" class="btn btn-outline-warning float-left"><i class="fas fa-sync-alt"></i>Reset form</button>
  <button type="button" class="btn btn-outline-danger float-right" [routerLink]="['/reclamation-management']">Return</button>
    </div> 
</form>
            </div>
          </div>
          </div>
          </div>



    

    